package com.perisatto.fiapprj.menuguru_order.application.usecases;

import static org.assertj.core.api.Assertions.assertThatExceptionOfType;
import static org.mockito.ArgumentMatchers.any;
import static org.mockito.Mockito.times;
import static org.mockito.Mockito.verify;
import static org.mockito.Mockito.when;

import java.util.Date;
import java.util.LinkedHashSet;
import java.util.Optional;
import java.util.Set;

import org.junit.jupiter.api.AfterEach;
import org.junit.jupiter.api.BeforeEach;
import org.junit.jupiter.api.Nested;
import org.junit.jupiter.api.Test;
import org.mockito.Mock;
import org.mockito.MockitoAnnotations;
import org.springframework.test.context.ActiveProfiles;

import com.perisatto.fiapprj.menuguru_order.application.interfaces.CustomerRepository;
import com.perisatto.fiapprj.menuguru_order.application.interfaces.OrderRepository;
import com.perisatto.fiapprj.menuguru_order.application.interfaces.PaymentProcessor;
import com.perisatto.fiapprj.menuguru_order.application.interfaces.PaymentRepository;
import com.perisatto.fiapprj.menuguru_order.application.interfaces.ProductRepository;
import com.perisatto.fiapprj.menuguru_order.domain.entities.customer.CPF;
import com.perisatto.fiapprj.menuguru_order.domain.entities.customer.Customer;
import com.perisatto.fiapprj.menuguru_order.domain.entities.order.Order;
import com.perisatto.fiapprj.menuguru_order.domain.entities.order.OrderItem;
import com.perisatto.fiapprj.menuguru_order.domain.entities.order.OrderStatus;
import com.perisatto.fiapprj.menuguru_order.domain.entities.payment.Payment;
import com.perisatto.fiapprj.menuguru_order.domain.entities.product.Product;
import com.perisatto.fiapprj.menuguru_order.domain.entities.product.ProductType;
import com.perisatto.fiapprj.menuguru_order.handler.exceptions.NotFoundException;
import com.perisatto.fiapprj.menuguru_order.handler.exceptions.ValidationException;


@ActiveProfiles(value = "test")
public class OrderUseCaseTest {

	private OrderUseCase orderUseCase;

	@Mock
	private OrderRepository orderRepository;

	@Mock
	private CustomerRepository customerRepository;

	@Mock
	private ProductRepository productRepository;

	@Mock	
	private PaymentProcessor paymentProcessor; 

	@Mock
	private PaymentRepository paymentRepository;	

	AutoCloseable openMocks;

	@BeforeEach
	void setUp() {
		openMocks = MockitoAnnotations.openMocks(this);
		orderUseCase = new OrderUseCase(orderRepository, customerRepository, productRepository, paymentProcessor, paymentRepository);
	}

	@AfterEach
	void tearDown() throws Exception {
		openMocks.close();
	}

	@Nested
	class CreateOrder {

		@Test
		void givenValidDataAndCustomer_thenCreatesOrder() throws Exception {
			Customer customer = getCustomer();

			when(customerRepository.getCustomerById(any(Long.class)))
			.thenReturn(Optional.of(customer));

			Product product = getProduct();

			when(productRepository.getProductById(any(Long.class)))
			.thenReturn(Optional.of(product));

			Payment payment = getPayment();

			when(paymentProcessor.createPayment(any(Payment.class)))
			.thenReturn(payment);


			when(orderRepository.createOrder(any(Order.class)))
			.thenAnswer(i -> i.getArgument(0));

			Set<OrderItem> itemList = new LinkedHashSet<OrderItem>();

			OrderItem item = new OrderItem(10L, 10.0, 1);

			itemList.add(item);

			orderUseCase.createOrder(10L, itemList);

			verify(orderRepository, times(1)).createOrder(any(Order.class));
			verify(customerRepository, times(1)).getCustomerById(any(Long.class));
			verify(productRepository, times(1)).getProductById(any(Long.class));
		}

		@Test
		void givenNoCustomer_thenCreateOrder() throws Exception {			
			Product product = getProduct();

			when(productRepository.getProductById(any(Long.class)))
			.thenReturn(Optional.of(product));

			Payment payment = getPayment();

			when(paymentProcessor.createPayment(any(Payment.class)))
			.thenReturn(payment);


			when(orderRepository.createOrder(any(Order.class)))
			.thenAnswer(i -> i.getArgument(0));

			Set<OrderItem> itemList = new LinkedHashSet<OrderItem>();

			OrderItem item = new OrderItem(10L, 10.0, 1);

			itemList.add(item);

			orderUseCase.createOrder(null, itemList);

			verify(orderRepository, times(1)).createOrder(any(Order.class));
			verify(productRepository, times(1)).getProductById(any(Long.class));
		}

		@Test
		void givenInexistentCustomer_thenRefusesCreateOrder() throws Exception {		
			when(customerRepository.getCustomerById(any(Long.class)))
			.thenReturn(Optional.empty());

			Product product = getProduct();

			when(productRepository.getProductById(any(Long.class)))
			.thenReturn(Optional.of(product));

			Payment payment = getPayment();

			when(paymentProcessor.createPayment(any(Payment.class)))
			.thenReturn(payment);


			when(orderRepository.createOrder(any(Order.class)))
			.thenAnswer(i -> i.getArgument(0));

			Set<OrderItem> itemList = new LinkedHashSet<OrderItem>();

			OrderItem item = new OrderItem(10L, 10.0, 1);

			itemList.add(item);

			try {
				orderUseCase.createOrder(10L, itemList);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).createOrder(any(Order.class));
			}
		}

		@Test
		void givenInexistentProduct_thenRefusesCreateOrder() throws Exception {
			Customer customer = getCustomer();

			when(customerRepository.getCustomerById(any(Long.class)))
			.thenReturn(Optional.of(customer));

			when(productRepository.getProductById(any(Long.class)))
			.thenReturn(Optional.empty());

			Payment payment = getPayment();

			when(paymentProcessor.createPayment(any(Payment.class)))
			.thenReturn(payment);


			when(orderRepository.createOrder(any(Order.class)))
			.thenAnswer(i -> i.getArgument(0));

			Set<OrderItem> itemList = new LinkedHashSet<OrderItem>();

			OrderItem item = new OrderItem(10L, 10.0, 1);

			itemList.add(item);

			try {
				orderUseCase.createOrder(10L, itemList);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).createOrder(any(Order.class));
			}
		}

		private Payment getPayment() {
			Payment payment = new Payment(null);
			return payment;
		}

		private Product getProduct() throws Exception {
			String base64ProductImage = "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";

			String description = "O x-bacon é um sanduíche irresistível que une o sabor intenso do bacon crocante com queijo derretido"
					+ ", alface, tomate e um suculento hambúrguer, tudo envolto em um pão macio e tostado. "
					+ "Uma explosão de sabores em cada mordida!";


			Product product = new Product("X-Bacon", ProductType.ACOMPANHAMENTO, description, 10.0, base64ProductImage);
			product.setId(10L);

			return product;
		}

		private Customer getCustomer() throws Exception {
			Customer customerData = new Customer(10L, new CPF("90779778057"), "Roberto Machado", "roberto.machado@bestmail.com");
			return customerData;
		}
	}

	@Nested
	class RetrieveOrder {

		@Test
		void givenValidId_thenRetrieveOrder() throws Exception {

			Order order = getOrder();

			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));

			orderUseCase.getOrder(10L);
			verify(orderRepository, times(1)).getOrder(any(Long.class));
		}

		@Test
		void givenInexistentId_thenRefusesGetOrder() throws Exception {

			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.empty());

			try {
				orderUseCase.getOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(1)).getOrder(any(Long.class));
			}
		}
		
		@Test
		void listOrders() throws Exception {
			when(orderRepository.findAll(any(Integer.class), any(Integer.class)))
			.thenAnswer(i -> {
				Set<Order> orderList = new LinkedHashSet<Order>();
				Order order1 = getOrder();
				Order order2 = getOrder();
				orderList.add(order1);
				orderList.add(order2);
				return orderList;
			});
			
			orderUseCase.findAllOrders(50, 1);
			
			verify(orderRepository, times(1)).findAll(any(Integer.class), any(Integer.class));
		}
		
		@Test
		void givenNoParameters_thenlistOrders() throws Exception {
			when(orderRepository.findAll(any(Integer.class), any(Integer.class)))
			.thenAnswer(i -> {
				Set<Order> orderList = new LinkedHashSet<Order>();
				Order order1 = getOrder();
				Order order2 = getOrder();
				orderList.add(order1);
				orderList.add(order2);
				return orderList;
			});
			
			orderUseCase.findAllOrders(null, null);
			
			verify(orderRepository, times(1)).findAll(any(Integer.class), any(Integer.class));
		}
		
		@Test
		void givenInvalidLimitParameter_theRefusesListOrders() throws Exception {
			
			try {
				orderUseCase.findAllOrders(100, null);
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).findAll(any(Integer.class), any(Integer.class));
			}	
			
			try {
				orderUseCase.findAllOrders(-1, null);
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).findAll(any(Integer.class), any(Integer.class));
			}	
		}
		
		@Test
		void givenInvalidPageParameter_theRefusesListOrders() throws Exception {
			
			try {
				orderUseCase.findAllOrders(null, 0);
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).findAll(any(Integer.class), any(Integer.class));
			}	
		}
		
		@Test
		void retrievePreparationQueue() throws Exception {
			when(orderRepository.listPreparationQueue(any(Integer.class), any(Integer.class)))
			.thenAnswer(i -> {
				Set<Order> orderList = new LinkedHashSet<Order>();
				Order order1 = getOrder();
				Order order2 = getOrder();
				orderList.add(order1);
				orderList.add(order2);
				return orderList;
			});
			
			orderUseCase.listPreparationQueue(50, 1);
			
			verify(orderRepository, times(1)).listPreparationQueue(any(Integer.class), any(Integer.class));
		}
		
		@Test
		void givenNoParameters_thenRetrievePreparationQueue() throws Exception {
			when(orderRepository.listPreparationQueue(any(Integer.class), any(Integer.class)))
			.thenAnswer(i -> {
				Set<Order> orderList = new LinkedHashSet<Order>();
				Order order1 = getOrder();
				Order order2 = getOrder();
				orderList.add(order1);
				orderList.add(order2);
				return orderList;
			});
			
			orderUseCase.listPreparationQueue(null, null);
			
			verify(orderRepository, times(1)).listPreparationQueue(any(Integer.class), any(Integer.class));
		}

		private Order getOrder() throws Exception {
			Set<OrderItem> orderItems = new LinkedHashSet<OrderItem>();

			OrderItem orderItem = new OrderItem(10L, 10.0, 1);

			orderItems.add(orderItem);

			Order order = new Order(OrderStatus.PRONTO, 10L, orderItems);
			order.setReadyToPrepare(new Date());
			return order;
		}
	}
	
	@Nested
	class UpdateOrder {
		
		@Test
		void givenValidStatus_thenUpdatesOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.of(order));
			
			orderUseCase.updateOrder(10L, OrderStatus.FINALIZADO.toString());
			
			verify(orderRepository, times(1)).updateOrder(any(Order.class));
		}
		
		@Test
		void givenValidStatus_butOrderDeleted_thenRefusesUpdatesOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.empty());
			
			try {
				orderUseCase.updateOrder(10L, OrderStatus.FINALIZADO.toString());
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(1)).updateOrder(any(Order.class));
			}		
		}

		@Test
		void givenSameValidStatus_butOrderDeleted_thenRefusesUpdatesOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			try {
				orderUseCase.updateOrder(10L, OrderStatus.RECEBIDO.toString());
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}		
		}
		
		@Test
		void givenInvalidStatus_thenRefusesUpdatesOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.empty());
			
			try {
				orderUseCase.updateOrder(10L, "ACABADO");
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}		
		}
		
		@Test
		void givenInvalidId_thenRefusesUpdatesOrder() throws Exception {			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.empty());
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.empty());
			
			try {
				orderUseCase.updateOrder(10L, OrderStatus.FINALIZADO.toString());
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}		
		}
		
		@Test
		void givenValidId_thenCancelOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.of(order));
			
			orderUseCase.cancelOrder(10L);
			
			verify(orderRepository, times(1)).updateOrder(any(Order.class));
		}
		
		@Test
		void givenInvalidId_thenRefusesCancelOrder() throws Exception {
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.empty());
			
			try {
				orderUseCase.cancelOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}	
		}		
		
		@Test
		void givenValidId_butOrderDeleted_thenRefusesCancelOrder() throws Exception {
			Order order = getOrder();
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.empty());
			
			try {
				orderUseCase.cancelOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(1)).updateOrder(any(Order.class));
			}		
		}
		
		@Test
		void givenInvalidStatus_thenRefusesCancelOrder() throws Exception {
			
			Order order = getOrder();
			order.setStatus(OrderStatus.PRONTO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			try {
				orderUseCase.cancelOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}		
			
			order.setStatus(OrderStatus.FINALIZADO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			try {
				orderUseCase.cancelOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}
			
			order.setStatus(OrderStatus.CANCELADO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			try {
				orderUseCase.cancelOrder(10L);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}
		}
		
		@Test
		void givenValidData_thenConfirmPayment() throws Exception {
			
			Order order = getOrder();
			order.setStatus(OrderStatus.PENDENTE_PAGAMENTO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.of(order));
			
			String paymentData = "{\"data\": {\"id\": 10 }}";
			
			orderUseCase.confirmPayment(10L, paymentData);
		}
		
		@Test
		void givenInvalidData_thenRefusesConfirmPayment() throws Exception {
			
			Order order = getOrder();
			order.setStatus(OrderStatus.PENDENTE_PAGAMENTO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));		
			
			String paymentData = "{\"data\": 10 }}";
			
			try {
				orderUseCase.confirmPayment(10L, paymentData);
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}
		}
		
		@Test
		void givenInvalidStatus_thenRefusesConfirmPayment() throws Exception {
			
			Order order = getOrder();
			order.setStatus(OrderStatus.PRONTO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));		
			
			String paymentData = "{\\\"data\\\": 10 }}";
			
			try {
				orderUseCase.confirmPayment(10L, paymentData);
			} catch (Exception e) {
				assertThatExceptionOfType(ValidationException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}
		}
		
		@Test
		void givenInexistentId_thenRefusesConfirmPayment() throws Exception {
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.empty());		
			
			String paymentData = "{\\\"data\\\": 10 }}";
			
			try {
				orderUseCase.confirmPayment(10L, paymentData);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(0)).updateOrder(any(Order.class));
			}
		}
		
		@Test
		void givenValidData_butOrderDeleted_thenConfirmPayment() throws Exception {
			
			Order order = getOrder();
			order.setStatus(OrderStatus.PENDENTE_PAGAMENTO);
			
			when(orderRepository.getOrder(any(Long.class)))
			.thenReturn(Optional.of(order));
			
			when(orderRepository.updateOrder(any(Order.class)))
			.thenReturn(Optional.empty());
			
			String paymentData = "{\"data\": {\"id\": 10 }}";
			
			try {
				orderUseCase.confirmPayment(10L, paymentData);
			} catch (Exception e) {
				assertThatExceptionOfType(NotFoundException.class);
				verify(orderRepository, times(1)).updateOrder(any(Order.class));
			}
		}
		
		private Order getOrder() throws Exception {
			Set<OrderItem> orderItems = new LinkedHashSet<OrderItem>();

			OrderItem orderItem = new OrderItem(10L, 10.0, 1);

			orderItems.add(orderItem);

			Order order = new Order(OrderStatus.RECEBIDO, 10L, orderItems);
			order.setReadyToPrepare(new Date());
			return order;
		}
	}
}
